<!DOCTYPE html>
<html lang="en-US">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CTPEBJMK1C"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-CTPEBJMK1C');
    </script>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">
    <link rel="stylesheet" href="/assets/css/mui.css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Astra + Ansible | Data Architect</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Astra + Ansible" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Astra Data API with Ansible" />
<meta property="og:description" content="Astra Data API with Ansible" />
<link rel="canonical" href="http://localhost:4000/astra/ansible/data/" />
<meta property="og:url" content="http://localhost:4000/astra/ansible/data/" />
<meta property="og:site_name" content="Data Architect" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Astra + Ansible" />
<script type="application/ld+json">
{"url":"http://localhost:4000/astra/ansible/data/","headline":"Astra + Ansible","description":"Astra Data API with Ansible","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1> Astra + Ansible </h1>
        </a>
        <h2> Astra Data API with Ansible </h2>
          <br>
          <a href="/"><button type="button" class="btn btn-primary">Home</button></a>
          <a href="/astra/"><button type="button" class="btn btn-primary">Astra</button></a>
          <a href="/nosqlbench/"><button type="button" class="btn btn-primary">NoSqlBench</button></a>
          <a href="/stargate/"><button type="button" class="btn btn-primary">Stargate</button></a>
        <a href="" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="asta-data-api">Asta Data API</h1>

<p>The Astra Data API allows Astra users to take database level actions against tables, rows, and columns.  In order to use the Data API you will need some info from the DevOps API or the Astra UI.  You will need <span style="color: #d14;">[cluster_id]</span>, <span style="color: #d14;">[cluster_region]</span>, and the username and password for your database.</p>

<h2 id="data-auth-post">Data Auth Post</h2>

<p>Add your <span style="color: #d14;">[cluster_id]</span>, <span style="color: #d14;">[cluster_region]</span>, username and password then run the playbook and grab the authToken from the response.  You will use this token for <span style="color: #d14;">[token from data_auth_post]</span> in all playbook demos below.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_request_body</span><span class="p">:</span>
      <span class="nx">username</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username</span><span class="dl">"</span>
      <span class="nx">password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">password</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">create</span> <span class="nx">auth</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/auth</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">POST</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_request_body | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">201</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">request_auth</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">request_auth</span>
</code></pre></div></div>

<h2 id="data-get-keyspaces">Data Get Keyspaces</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">keyspaces</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_keyspaces</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_keyspaces</span>
</code></pre></div></div>

<h2 id="data-create-table">Data Create Table</h2>

<p>Creating a table requires the <span style="color: #d14;">[keyspace for table]</span> as well as the schema level information required for the table structure columns, key, and partition.  In the demo below I create a basic table just to show functionality.  Please refer to documentation for complete capability for complicated data models.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_create_table</span><span class="p">:</span> 
      <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">table_name</span><span class="dl">"</span>
      <span class="nx">columnDefinitions</span><span class="p">:</span>
        <span class="o">-</span> 
          <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span>
          <span class="nx">typeDefinition</span><span class="p">:</span> <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span>
        <span class="o">-</span> 
          <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span>
          <span class="nx">typeDefinition</span><span class="p">:</span> <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span>
      <span class="nx">primaryKey</span><span class="p">:</span> 
        <span class="nx">partitionKey</span><span class="p">:</span>
          <span class="o">-</span> <span class="nx">id</span>           
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">create</span> <span class="nx">table</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">POST</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_create_table | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">201</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_table</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_table</span>
</code></pre></div></div>

<h2 id="data-get-tables">Data Get Tables</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">tables</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_tables</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_tables</span>
</code></pre></div></div>

<h2 id="data-get-table">Data Get Table</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">table</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces//{{ astra_keyspace }}/tables/{{ astra_table }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_table</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_table</span>
</code></pre></div></div>

<h2 id="data-delete-table">Data Delete Table</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="k">delete</span> <span class="nx">table</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces//{{ astra_keyspace }}/tables/{{ astra_table }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">DELETE</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">204</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_delete</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_delete</span>
</code></pre></div></div>

<h2 id="data-add-rows">Data Add Rows</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_add_row</span><span class="p">:</span>
      <span class="nx">columns</span><span class="p">:</span>
        <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span>
          <span class="nx">value</span><span class="p">:</span> <span class="mi">1</span>
        <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span>
          <span class="nx">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">some text</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">add</span> <span class="nx">rows</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/rows</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">POST</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_add_row | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">201</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_rows</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_rows</span>
</code></pre></div></div>

<h2 id="data-submit-queries">Data Submit Queries</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_query</span><span class="p">:</span>
      <span class="nx">columnNames</span><span class="p">:</span>
        <span class="o">-</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span>
        <span class="o">-</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span>
      <span class="nx">filters</span><span class="p">:</span>
        <span class="o">-</span>
          <span class="nx">value</span><span class="p">:</span>
            <span class="o">-</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span>
          <span class="nx">columnName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span>
          <span class="nx">operator</span><span class="p">:</span> <span class="dl">"</span><span class="s2">eq</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">submit</span> <span class="nx">query</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/rows/query</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">POST</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_query | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_query</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_query</span>
</code></pre></div></div>

<h2 id="data-get-rows">Data Get Rows</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">rows</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/rows</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_rows</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_rows</span>
</code></pre></div></div>

<h2 id="data-get-row">Data Get Row</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_row</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[primary Key for row]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">row</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/rows/{{ astra_row }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_row</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_row</span>
</code></pre></div></div>

<h2 id="data-update-rows">Data Update Rows</h2>

<p>A quick warning here: you cannot update the Primary Key.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_row</span><span class="p">:</span> <span class="mi">1</span>
    <span class="nx">astra_update_row</span><span class="p">:</span>
      <span class="nx">changeset</span><span class="p">:</span>
        <span class="o">-</span> <span class="nx">column</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span>
          <span class="nx">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">some updated text</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">update</span> <span class="nx">rows</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/rows/{{ astra_row }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">PUT</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_update_row | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_update</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_update</span>
</code></pre></div></div>

<h2 id="data-delete-rows">Data Delete Rows</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_row</span><span class="p">:</span> <span class="mi">1</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="k">delete</span> <span class="nx">rows</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/rows/{{ astra_row }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">DELETE</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">204</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_delete</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_delete</span>
</code></pre></div></div>

<h2 id="data-get-columns">Data Get Columns</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">columns</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/columns</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_columns</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_columns</span>
</code></pre></div></div>

<h2 id="data-get-column">Data Get Column</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_column</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="kd">get</span> <span class="nx">column</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/columns/{{ astra_column }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">GET</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_column</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_column</span>
</code></pre></div></div>

<h2 id="data-add-column">Data Add Column</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_add_column</span><span class="p">:</span>
      <span class="kd">static</span><span class="p">:</span> <span class="kc">false</span>
      <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">newColumn</span><span class="dl">"</span>
      <span class="nx">typeDefinition</span><span class="p">:</span> <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">add</span> <span class="nx">column</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/columns</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">POST</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_add_column | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">201</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_column</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_column</span>
</code></pre></div></div>

<h2 id="data-update-column">Data Update Column</h2>

<p>A quick warning here: you can only update the Primary Key.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_column</span><span class="p">:</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span>
    <span class="nx">astra_update_column</span><span class="p">:</span>
      <span class="nx">newName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">updatedid</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">update</span> <span class="nx">column</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/columns/{{ astra_column }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">PUT</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_update_column | to_json }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">200</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_column</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_column</span>
</code></pre></div></div>

<h2 id="data-delete-column">Data Delete Column</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">---</span>
<span class="o">-</span> <span class="nx">hosts</span><span class="p">:</span> <span class="nx">localhost</span>
  <span class="nx">connection</span><span class="p">:</span> <span class="nx">local</span>
  <span class="nx">gather_facts</span><span class="p">:</span> <span class="nx">no</span>
  <span class="nx">vars</span><span class="p">:</span>
    <span class="nx">astra_rest_api_url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://[cluster_id]-[cluster_region].apps.astra.datastax.com/api/rest</span><span class="dl">"</span>
    <span class="nx">astra_auth_token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[token from data_auth_post]</span><span class="dl">"</span>
    <span class="nx">astra_keyspace</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[keyspace for table]</span><span class="dl">"</span>
    <span class="nx">astra_table</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[table]</span><span class="dl">"</span>
    <span class="nx">astra_column</span><span class="p">:</span> <span class="dl">"</span><span class="s2">newColumn</span><span class="dl">"</span>
  <span class="nx">tasks</span><span class="p">:</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="k">delete</span> <span class="nx">column</span>
      <span class="nx">uri</span><span class="p">:</span>
        <span class="nx">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_rest_api_url }}/v1/keyspaces/{{ astra_keyspace }}/tables/{{ astra_table }}/columns/{{ astra_column }}</span><span class="dl">"</span>
        <span class="nx">method</span><span class="p">:</span> <span class="nx">DELETE</span>
        <span class="nx">headers</span><span class="p">:</span>
          <span class="nx">Accept</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span>
          <span class="nx">X</span><span class="o">-</span><span class="nx">Cassandra</span><span class="o">-</span><span class="nx">Token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{{ astra_auth_token }}</span><span class="dl">"</span>
        <span class="nx">status_code</span><span class="p">:</span> <span class="mi">204</span>
      <span class="nx">register</span><span class="p">:</span> <span class="nx">response_column</span>
    <span class="o">-</span> <span class="nx">name</span><span class="p">:</span> <span class="nx">debug</span>
      <span class="nx">debug</span><span class="p">:</span>
        <span class="kd">var</span><span class="p">:</span> <span class="nx">response_column</span>
</code></pre></div></div>

<h1 id="how-can-i-help-you-with-astra">How can I help you with Astra?</h1>

<p><img src="/assets/images/SRM.png" alt="SRM" height="100" width="100" style="float: left; padding: 10px" /></p>

<p>Find me over on the <a href="https://datastax.slack.com/archives/CP189L0HF">Astra Slack</a> to ask me any questions about Astra.  Also lets chat if you have something kewl you did with Astra and you want me to feature it in my blog.  Look below or to the right for more ways to find me.</p>

        </section>

        <aside id="sidebar">
	

<h1 id="find-me">Find Me</h1>

You can find me on Slacks:
<ul>
  <li><a href="https://datastax.slack.com" target="_blank" rel="noopener">DataStax Slack</a></li>
  <li><a href="https://the-asf.slack.com" target="_blank" rel="noopener">The ASF Slack</a></li>
  <li><a href="https://apachenifi.slack.com" target="_blank" rel="noopener">Apache NiFi Slack</a></li>
  <li><a href="https://nosqlbench.slack.com" target="_blank" rel="noopener">NoSqlBench Slack</a></li>
  <li><a href="https://datastax.slack.com/archives/CP189L0HF" target="_blank" rel="noopener">Astra Slack</a></li>
</ul>

You can find me on Stacks:
<ul>
  <li><a href="https://stackoverflow.com/users/14215291/ds-steven-matison" target="_blank" rel="noopener">ds-steven-matison</a></li>
  <li><a href="https://stackoverflow.com/users/4253286/steven-matison" target="_blank" rel="noopener">steven-matison</a></li>
</ul>

You can find me on Communities:
<ul>
  <li><a href="https://community.datastax.com/users/3254/ds-steven-matison.html" target="_blank" rel="noopener">DataStax Community</a></li>
  <li><a href="https://community.cloudera.com/t5/user/viewprofilepage/user-id/60150" target="_blank" rel="noopener">Cloudera Community</a></li>
</ul>
You can find me on Socials:
<ul>
  <li><a href="https://www.linkedin.com/in/steven-matison/" target="_blank" rel="noopener">LinkedIn</a></li>
  <li><a href="https://twitter.com/DsMatison" target="_blank" rel="noopener">Twitter</a></li>
</ul>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
          <script src="https://efreecode.com/js.js" id="eXF-dsmatiso-0" async defer></script>
        </aside>
      </div>
    </div>
  </body>
</html>
